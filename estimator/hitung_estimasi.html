<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hitung Estimasi - Estimator</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="../admin/dashboard.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="dashboard-wrapper">
      <aside class="sidebar estimator-sidebar" id="sidebar">
        <div class="sidebar-logo-container">
          <img
            src="../assets/aclogo2.png"
            alt="Accenture Logo"
            class="sidebar-logo"
          />
          <button
            class="hamburger-btn"
            id="hamburgerBtn"
            onclick="document.querySelector('.menu-top').classList.toggle('active')"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="hamburger-icon"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
              />
            </svg>
          </button>
        </div>

        <nav class="sidebar-nav">
          <ul class="menu-top">
            <li class="nav-item" data-page="estimator_dashboard">
              <img src="../assets/dashboard.png" class="nav-icon" />
              <span>Dashboard</span>
            </li>

            <li class="nav-item" data-page="lihat_data_produk">
              <img src="../assets/lihat_data.png" class="nav-icon" />
              <span>Lihat Data Produk</span>
            </li>

            <li class="nav-item active" data-page="hitung_estimasi">
              <img src="../assets/hitung_estimasi.png" class="nav-icon" />
              <span>Hitung Estimasi</span>
            </li>

            <li class="nav-item" data-page="hasil_estimasi">
              <img src="../assets/hasil_estimasi.png" class="nav-icon" />
              <span>Hasil Estimasi</span>
            </li>

            <li class="nav-item" data-page="laporan_ekspor">
              <img src="../assets/laporan.png" class="nav-icon" />
              <span>Laporan & Ekspor</span>
            </li>
          </ul>

          <div class="logout-section">
            <a href="#" class="logout-link">
              <i class="fas fa-sign-out-alt"></i>
              <span>Logout</span>
            </a>
          </div>
        </nav>
      </aside>

      <main class="main-content">
        <header class="main-header">
          <h1 class="header-title">Hitung Estimasi</h1>
          <div class="user-profile">
            <div class="user-avatar"><i class="fas fa-user-tie"></i></div>
            <span class="user-role">Role User</span>
          </div>
        </header>

        <section class="dashboard-body estimation-body">
          <div class="estimation-section">
            <h2 class="section-title">1. Konfigurasi Perhitungan</h2>
            <div class="input-row-estimation">
              <select id="product-select" class="custom-select-lg">
                <option value="">-- Pilih Produk --</option>
              </select>

              <select id="estimation-type-select" class="custom-select-lg">
                <option value="average">Rata-rata (Average) / Medium</option>
                <option value="low">Terendah (Low)</option>
                <option value="high">Tertinggi (High)</option>
              </select>
            </div>

            <button
              id="btn-hitung-estimasi"
              class="btn-action primary-action mt-20"
              style="width: 200px"
            >
              Hitung Estimasi
            </button>
          </div>

          <div id="estimation-content-area">
            <div class="estimation-section mt-40">
              <h2 class="section-title">2. Hasil Perhitungan</h2>
              <p class="result-summary">
                Estimasi dihitung menggunakan Kurs Terbaru:
                <b id="kurs-display">IDR 17.000</b>
              </p>
              <p class="result-subtitle">Rician Normalisasi Harga</p>

              <div class="data-table-container">
                <table class="estimation-table">
                  <thead>
                    <tr>
                      <th style="width: 30%">KOMPONEN</th>
                      <th style="width: 20%">HARGA LAMA (AVG)</th>
                      <th style="width: 20%">KURS LAMA (AVG)</th>
                      <th style="width: 30%">HARGA NORMALISASI</th>
                    </tr>
                  </thead>
                  <tbody id="estimation-results-body"></tbody>
                </table>
              </div>

              <div class="estimation-footer">
                <div class="total-display">
                  Total Estimasi Semua Harga Produk
                  <b id="total-estimasi">RP 0.000.000.000</b>
                </div>

                <div class="footer-actions">
                  <button
                    id="btn-simpan-estimasi"
                    class="btn-action primary-action"
                  >
                    Simpan Estimasi
                  </button>
                  <button id="btn-export-pdf" class="btn-action export-action">
                    Ekspor PDF
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="estimator_script.js"></script>
  </body>
</html>
